{% extends 'base.html' %}
{% block content %}
  <h1>Details</h1>
  <div class="card">
    <div class="card-content">
<div class="flex-container">
            <div>
              <span class="card-title">{{ recipe.title }}</span>
              <h6>Category:</h6>
              <ul>
                {% for category in recipe.categories.all %}
                  <li>
                    {{ category.name }}
                    {% empty %}
                    <li>No categories yet.</li>
                {% endfor %}
              </ul>
              <p>Ingredients: {{ recipe.ingredients }}</p>
              <p>Description: {{ recipe.description }}</p>
            </div>
            <div>
                {% load static %}
                <img src="{% static recipe.image|cut:'main_app/static/' %}" width="100px" height="100px" alt="Recipe Image">
            </div>
      </div>
      <div class="card-action">
        <a href="{% url 'recipes_update' recipe.id %}">Edit</a>
        <a href="{% url 'recipes_delete' recipe.id %}">Delete</a>
      </div>
    </div>
  </div>  
  
  <h2>Comments</h2>
  <form action="{% url 'add_comment' recipe.id %}" method="POST">
    {% csrf_token %}
    <textarea name="content"  placeholder="Add your comment here..."></textarea>
    <br>
    <input type="submit" value="Add Comment" class="btn" >
  <ul>
    {% for comment in recipe.comment_set.all %}
      <li>{{ comment.content }}</li>
    {% empty %}
      <li>No comments yet.</li>
    {% endfor %}
  {% endblock %}